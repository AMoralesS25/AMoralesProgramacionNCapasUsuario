@model ML.Cita

@{
    ViewBag.Title = "Form";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="~/Styles/CitaAdd.css" />

<div class="container py-4">
    <h2 class="mb-2">Agendar Entrevista</h2>
    <hr class="mb-4">
    <p class="mb-4">Selecciona la forma de entrevista</p>

    <div class="mb-4 d-flex gap-3">
        @if (Model.IdCita != 0)
        {
            if (Model.Piso.IdPiso != 0)
            {
                <button onclick="EntrevistaPresencial()" class="btn btn-success">Entrevista presencial</button>
            }
            else
            {
                <button onclick="EntrevistaRemota()" class="btn btn-success">Entrevista remoto</button>

            }
        }
        else
        {
            <button onclick="EntrevistaPresencial()" class="btn btn-success">Entrevista presencial</button>
            <button onclick="EntrevistaRemota()" class="btn btn-success">Entrevista remoto</button>
        }


    </div>

    <div class="row justify-content-center gy-4">

        <div class="col-md-4">
            <div class="card-perfil">
                @if (Model.Candidato.Foto == null)
                {
                    <img id="foto" src="https://cdn-icons-png.flaticon.com/512/3415/3415792.png" width="200" height="200" class="img-thumbnail" />
                }
                else
                {
                    <img id="foto" src="data:image/*;base64, @Convert.ToBase64String(Model.Candidato.Foto)" width="200" height="200" />
                }
                @*<img src="https://cdn-icons-png.flaticon.com/512/6326/6326055.png" alt="Foto">*@
                <h5 class="mt-3">@Model.Candidato.Nombre @Model.Candidato.ApellidoPaterno @Model.Candidato.ApellidoMaterno</h5>
                <p class="mb-1">@Model.Candidato.Correo</p>
                <p class="mb-2">@Model.Candidato.Telefono</p>
                <span class="rol-badge">Desarrollador Jr</span>
            </div>
        </div>

        <div class="col-md-6" id="form">
            @using (Html.BeginForm("Form", "Cita", FormMethod.Post))
            {
                <h4 class="mb-4">Agendar entrevista</h4>
                <div class="mb-3">
                    @Html.LabelFor(model => model.FechaHora, new { @class = "form-label" })
                    @*@Html.TextBoxFor(model => model.FechaHora, new { @class = "form-control" })*@
                    @Html.TextBoxFor(model => model.FechaHora, new { @class = "form-control", @type = "text", @id = "datepicker" })
                </div>
                <div class="mb-3" id="lblURL">
                    @Html.LabelFor(model => model.URL, new { @class = "form-label" })
                    @Html.TextBoxFor(model => model.URL, new { @class = "form-control" })
                </div>
                <div class="mb-3" id="lblPiso">
                    @Html.LabelFor(model => model.Piso.IdPiso, new { @class = "form-label" })
                    @Html.DropDownListFor(model => model.Piso.IdPiso, new SelectList(Model.Piso.Pisos, "IdPiso", "Nombre"), "Selecciona un piso", new { @class = "form-select" })
                </div>
                <div class="mb-4">
                    @Html.LabelFor(model => model.EstatusCita.IdEstatusCita, new { @class = "form-label" })
                    @Html.DropDownListFor(model => model.EstatusCita.IdEstatusCita, new SelectList(Model.EstatusCita.EstatusCitas, "IdEstatusCita", "Nombre"), "Selecciona un estatus", new { @class = "form-select" })
                </div>
                <button type="submit" class="btn btn-success me-2">Guardar</button>
            }
        </div>
    </div>
</div>


<link rel="stylesheet" href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="/resources/demos/style.css">
<script src="~/Scripts/jquery-3.7.0.js"></script>
<script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
<script src="~/Scripts/Citas/CitasForm.js"></script>